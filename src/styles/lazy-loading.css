/**
 * Lazy Loading Styles
 * 
 * Provides styles for lazy-loaded images with loading states and animations.
 * Requirements: 5.2, 5.5
 */

/* Base lazy loading image styles */
img[data-src] {
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

/* Loading state */
img.lazy-loading {
  opacity: 0;
  background-color: #e5e7eb;
  background-image: linear-gradient(90deg, #e5e7eb 0%, #f3f4f6 50%, #e5e7eb 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Loaded state */
img.lazy-loaded {
  opacity: 1;
}

/* Error state */
img.lazy-error {
  opacity: 1;
  background-color: #f3f4f6;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Shimmer animation for skeleton screens */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Skeleton screen base styles */
.skeleton {
  background-color: #e5e7eb;
  background-image: linear-gradient(90deg, #e5e7eb 0%, #f3f4f6 50%, #e5e7eb 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
  border-radius: 4px;
}

/* Image placeholder styles */
.image-placeholder {
  display: block;
  position: relative;
  overflow: hidden;
}

.image-placeholder.skeleton {
  background-color: #e5e7eb;
  background-image: linear-gradient(90deg, #e5e7eb 0%, #f3f4f6 50%, #e5e7eb 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

.image-placeholder.blur {
  background-color: #e5e7eb;
  filter: blur(10px);
}

/* Responsive skeleton sizes */
@media (max-width: 640px) {
  .skeleton {
    min-height: 16px;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .skeleton {
    min-height: 18px;
  }
}

@media (min-width: 1025px) {
  .skeleton {
    min-height: 20px;
  }
}

/* Accessibility: Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  img[data-src],
  img.lazy-loading,
  img.lazy-loaded,
  .skeleton,
  .image-placeholder {
    animation: none;
    transition: none;
  }
}

/* Print styles: Show all images */
@media print {
  img[data-src] {
    opacity: 1;
  }
  
  .skeleton,
  .image-placeholder {
    display: none;
  }
}
